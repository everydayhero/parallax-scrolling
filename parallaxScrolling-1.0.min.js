!function(){window.Parallax=function(){var t=this,e={},o={},i=!1;this.init=function(n,r,a,c){if(!i){a=a||"down",c=-1*c||"auto",o.el=document.getElementById(n),o.w=window,o.d=document,o.e=o.d.documentElement,o.g=o.d.getElementsByTagName("body")[0];var d=new Image;d.src=r,d.onload=function(){var i=d.width,l=d.height;o.el.style.backgroundImage="url('"+r+"')",o.backgroundWidth=i,o.backgroundHeight=l,e={id:n,scrollDir:a,maxOffset:c},t.resize(),window.parallaxLoad()},i=!0}},this.scroll=function(){if(i){var t=o.w.pageYOffset||o.e.scrollTop,n=o.scrollTop+o.windowHeight;o.scrollTop=t,o.scrollBottom=n;var r=0;if(o.scrollBottom>=o.containerTop&&o.scrollTop<=o.containerBottom&&(0!=e.maxOffset||"auto"===e.maxOffset)){var a=100-(o.containerBottom-o.scrollTop)/o.containerBottom*100;"up"===e.scrollDir&&(a=100-a);var c=o.containerHeight-o.backgroundHeight;"auto"!=e.maxOffset&&c<e.maxOffset&&(c=e.maxOffset),r=c*(a/100)}return r}},this.resize=function(){if(i){o.windowHeight=o.w.innerHeight||o.e.clientHeight||o.g.clientHeight,o.windowWidth=o.w.innerWidth||o.e.clientWidth||o.g.clientWidth,o.containerWidth=o.el.offsetWidth,o.containerHeight=o.el.offsetHeight,o.containerTop=o.el.offsetTop,o.containerBottom=o.containerTop+o.containerHeight;var e=o.w.getComputedStyle(o.el),n=e.getPropertyValue("background-size");if("cover"===n){var r=o.backgroundWidth/o.backgroundHeight,a=o.containerWidth/o.containerHeight;if(r>=a)var c=o.containerHeight,d=c/o.backgroundHeight,l=o.backgroundWidth*d;else var l=o.containerWidth,d=l/o.backgroundWidth,c=o.backgroundHeight*d;o.backgroundWidth=l,o.backgroundHeight=c}return t.scroll()}}}}();