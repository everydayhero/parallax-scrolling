!function(){window.Parallax=function(){var t=this,e={},o={},n=!1;this.init=function(i,r,a,c){if(!n){a=a||"down",c=-1*c||"auto",o.el=document.getElementById(i),o.w=window,o.d=document,o.e=o.d.documentElement,o.g=o.d.getElementsByTagName("body")[0];var l=new Image;l.src=r,l.onload=function(){var n=l.width,d=l.height;return o.el.style.backgroundImage="url('"+r+"')",o.backgroundWidth=n,o.backgroundHeight=d,e={id:i,scrollDir:a,maxOffset:c},t.resize()},n=!0}},this.scroll=function(){if(0===Object.keys(e).length)return!1;var t=o.w.pageYOffset||o.e.scrollTop,n=o.scrollTop+o.windowHeight;o.scrollTop=t,o.scrollBottom=n;var i=0;if(o.scrollBottom>=o.containerTop&&o.scrollTop<=o.containerBottom&&(0!=e.maxOffset||"auto"===e.maxOffset)){var r=100-(o.containerBottom-o.scrollTop)/o.containerBottom*100;"up"===e.scrollDir&&(r=100-r);var a=o.containerHeight-o.backgroundHeight;"auto"!=e.maxOffset&&a<e.maxOffset&&(a=e.maxOffset),i=a*(r/100)}return i},this.resize=function(){if(0===Object.keys(e).length)return!1;o.windowHeight=o.w.innerHeight||o.e.clientHeight||o.g.clientHeight,o.windowWidth=o.w.innerWidth||o.e.clientWidth||o.g.clientWidth,o.containerWidth=o.el.offsetWidth,o.containerHeight=o.el.offsetHeight,o.containerTop=o.el.offsetTop,o.containerBottom=o.containerTop+o.containerHeight;var n=o.w.getComputedStyle(o.el),i=n.getPropertyValue("background-size");if("cover"===i){var r=o.backgroundWidth/o.backgroundHeight,a=o.containerWidth/o.containerHeight;if(r>=a)var c=o.containerHeight,l=c/o.backgroundHeight,d=o.backgroundWidth*l;else var d=o.containerWidth,l=d/o.backgroundWidth,c=o.backgroundHeight*l;o.backgroundWidth=d,o.backgroundHeight=c}return t.scroll()}}}();